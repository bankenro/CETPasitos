<div class="d-flex justify-content-center">
  <h5>AÑADIR MATRICULA</h5>
</div>

<form [formGroup]="form" (ngSubmit)="AgregarMatricula()">
  <mat-dialog-content>
    <div class="row">
      <div class="col-sm-4">
        <mat-form-field class="example-full-width">
          <label>
            <input matInput type="number" formControlName="codigo" placeholder="Codigo Estudiante"
                   (keyup)="Controlar($event)">
          </label>
          <mat-error *ngIf="isFieldInvalid('codigo')">
            Ingrese el codigo del estudiante
          </mat-error>
        </mat-form-field>

        <mat-form-field class="example-full-width">
          <label>
            <input matInput type="text" formControlName="nombres" placeholder="Nombres">
          </label>
        </mat-form-field>

        <mat-form-field class="example-full-width">
          <label>
            <input matInput type="text" formControlName="apellidos" placeholder="Apellidos">
          </label>
        </mat-form-field>

        <mat-form-field class="example-full-width">
          <label>
            <input matInput type="text" formControlName="fechains" placeholder="Fecha Insc.">
          </label>
        </mat-form-field>

        <mat-form-field class="example-full-width">
          <label>
            <input matInput [matDatepicker]="picker" formControlName="fechaini" placeholder="Fecha Inic.">
          </label>
          <mat-error *ngIf="isFieldInvalid('fechaini')">
            Escoja la fecha de inicio
          </mat-error>
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
      </div>
      <div class="col-sm-4">
        <mat-form-field>
          <mat-select placeholder="Turno" formControlName="turno" (selectionChange)="Selecionar($event)">
            <mat-option *ngFor="let item of turnos" [value]="item"
            > {{item.nombre}}
            </mat-option>
            <mat-error *ngIf="isFieldInvalid('turno')">
              Escoja un Turno
            </mat-error>
          </mat-select>
        </mat-form-field>

        <mat-form-field>
          <mat-select placeholder="Año" formControlName="anio">
            <mat-option *ngFor="let item of anios" [value]="item.id"> {{item.nombre}}
            </mat-option>
            <mat-error *ngIf="isFieldInvalid('anio')">
              Escoja un Año
            </mat-error>
          </mat-select>
        </mat-form-field>

        <mat-form-field>
          <mat-select placeholder="Almuerzo" formControlName="almuerzo"
                      (selectionChange)="SelecTotalAlmuerzo($event)">
            <mat-option *ngFor="let item of almuerzos" [value]="item"> {{item.nombre}}
            </mat-option>
            <mat-error *ngIf="isFieldInvalid('almuerzo')">
              Escoja un Almuerzo
            </mat-error>
          </mat-select>
        </mat-form-field>

        <mat-form-field>
          <mat-select placeholder="Refrigerio" formControlName="refrigerio"
                      (selectionChange)="SelecTotalRefrigerio($event)">
            <mat-option *ngFor="let item of refrigerios" [value]="item"> {{item.nombre}}
            </mat-option>
            <mat-error *ngIf="isFieldInvalid('refrigerio')">
              Escoja un refrigerio
            </mat-error>
          </mat-select>
        </mat-form-field>

        <mat-form-field class="example-full-width">
          <label>
            <input matInput type="text" formControlName="boleta" placeholder="Boleta">
          </label>
          <mat-error *ngIf="isFieldInvalid('boleta')">
            Ingrese el numero de boleta
          </mat-error>
        </mat-form-field>

        <mat-form-field class="example-full-width">
          <label>
            <input matInput type="text" formControlName="total" placeholder="Total">
          </label>
        </mat-form-field>

      </div>
      <div class="col-sm-4">
        <mat-form-field class="example-full-width">
          <label>
            <input matInput type="text" formControlName="totalma" placeholder="Total Matricula">
          </label>
        </mat-form-field>

        <mat-form-field class="example-full-width">
          <label>
            <input matInput type="text" formControlName="totalme" placeholder="Total Mensualidad">
          </label>
        </mat-form-field>

        <mat-form-field class="example-full-width">
          <label>
            <input matInput type="text" formControlName="totala" placeholder="Total Almuerzo">
          </label>
        </mat-form-field>

        <mat-form-field class="example-full-width">
          <label>
            <input matInput type="text" formControlName="totalr" placeholder="Total Refrigerio">
          </label>
        </mat-form-field>

        <mat-form-field class="example-full-width">
          <label>
            <input matInput type="number" formControlName="descuento" placeholder="Descuento"
                   (keyup)="Descontar($event)">
          </label>
          <mat-error *ngIf="isFieldInvalid('descuento')">
            Ingrese el valor a descontar
          </mat-error>
        </mat-form-field>
      </div>
    </div>
  </mat-dialog-content>
  <div mat-dialog-actions class="d-flex justify-content-center">
    <button class="text-white" mat-button color="primary" type="button" (click)="Cerrar()">Cancelar</button>
    <mat-divider style="margin: 10px;" [vertical]="true"></mat-divider>
    <button class="text-white" mat-button color="primary" type="submit">Agregar</button>
  </div>
</form>


